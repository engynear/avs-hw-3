# **Отчет о выполнении Домашнего задания №3**

## Вариант 22

# Условие задачи

Разработать программу вычисления PI с заданной точностью не хуже 0.1% посредством дзета-функции Римана.

---

# На 4 балла

- Разработана программа на языке Си
Полученный ассемблер без модификаций: main.s
    
    Код : main.c, count.c (подсчет и вывод результата)
    
    Код на ассемблере: main.s, count.s
    
    Запуск: 
    
    У программы есть 3 режима работы через консоль(пример с исполняемым файлом main.exe)
    
    1. ./main.exe 0 (-ввод и вывод в консоль
    2. ./main.exe 1 ( данные беруться из файла input.txt и кладутся в output.txt)
    3. ./main.exe 2 (- argv[1] = 2 (рандомный ввод и вывод в консоль)
- Эквивалентное представление переменных в программе на С
Main: 
-12[rbp] = n
-8[rbp]
    
    dzeta:
    - 20[rbp] = n
    - 8[rbp] = sum
    - 12[rbp] = i
    
- Запуск через
    
    main_mod.exe
    
- Результаты тестов

В файлах с расширением in размещены тесты, а с расширением out ожидаемый вывод

# На 5 баллов

## Функции с передачей данных:

---

в программе реализованна функция с передачей данных через параметр:

```
dzeta(int n);
```

## Локальные переменные

---

Внутри функции используются локальные переменные
```
double sum = 0;
```


## Комментарии к ассемблер файлам, описывающие передачу параметров

Добавлены подробные комментарии, полностью поясняющие работу ассемблерной программы и описывающие связь между параметрами языки C и регистрами, стеком

### Компиляция

Была дополнительно произведена компиляция декомпозированной версии программы, с помощью команд

```
gcc -masm=intel \
    -fno-asynchronous-unwind-tables \
    -fno-jump-tables \
    -fno-stack-protector \
    -fno-exceptions \
    ./main.c \
    -S -o ./main.s
```

Далее, все полученные ассемблерные программы были оптимизированы (убран лишний мусор от компилятора).

А затем программа слинкована и собрана в исполняемый файл
main_mod.exe

Пройденные тесты соотвествуют ожидаемым результатам.